# utm-token-auction

## Generating auction scenarios

The file generate_scen.py contains the code required to transform the raw data taken from the
sendai case study into the input for the airspace auction code.

The file:

generate_scen/sendai_data/locs_a.csv  - contains the locations of the hubs in Model A
generate_scen/sendai_data/locs_b2.csv - contains the locations of the hubs in Model B
generate_scen/sendai_data/no_fly.csv  - contains the points describing the polygon of each
                                        of the no-fly zones.


The settings (lines 147-149 in generate_scen.py) control the scenario to generate.

model_id (can be set to "a" or "b") sets the model to generate.
cell_meters (60m or 150m) sets the size of the cell to partition airspace into
mission_hrs (1, 2, or 4) sets the length the period of time that should be auctioned

These parameters relate directly to the parameters in Table 1 in the evaluations. 

Running generate_scen.py with your desired settings generates two files:

model{model_id}-wdp-hrs{mission_hrs}-cell_meters{cell_meters}.wdp

the airspace auction instance for the scenario generated by generate_scen.py

scen/model{model_id}-wdp-hrs{mission_hrs}-cell_meters{cell_meters}-f.wdp

a set of constraints over the bids placed which satisfy the fairness constraint described
in the evalautions.


## Running an Auction

The script run_action.py solves the airspace auction instances generated by generate_scen.py.

The settings:

model   = "a"
hrs     = "2"
meters  = "150"

identify the airspace auction scenario to solve

is_fair = True

determines whether the code should run the fair airspace auction instance or just the airspace
auction instance

fairness_const = 0.2 

sets the maximum number of time neighbors of a cell (see "A Fair Airspace Auction", p5 in the 
paper) that a single bidder can win.


## Running the Code

To run this code, you will need Python 3.11 and the libraries:

cartopy
gurobipy
matplotlib
network
pyproj
shapely

Each of these libraries can be installed with the command

python -m pip install <library name>

Additionally, you will have to download the gurobi backed from:

https://www.gurobi.com/